<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Franklin Gothic Font -->
    <link href="https://fonts.googleapis.com/css2?family=Franklin+Gothic+Medium&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa, #e4e7ec, #d8dee9);
            color: #2d3436;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            color: #2d3436;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #e0e0e0;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            gap: 20px;
            flex: 1;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .fw-logo {
            padding: 15px 25px;
            border-radius: 12px;
            text-align: center;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            min-width: 140px;
            font-family: 'Franklin Gothic Medium', sans-serif;
            background: linear-gradient(135deg, #c42020, #a61a1a);
        }
        
        .fw-logo .company-name {
            font-size: 29px;
            font-weight: bold;
            line-height: 1.1;
            letter-spacing: 0px;
            color: #ffffff;
            font-style: italic;
            text-shadow: 
                -1px -1px 0 #000000,
                1px -1px 0 #000000,
                -1px 1px 0 #000000,
                1px 1px 0 #000000;
        }

        .fw-logo .group {
            font-size: 17px;
            font-weight: bold;
            margin-top: 3px;
            letter-spacing: 0.5px;
            opacity: 0.9;
            color: #ffffff;
            font-style: italic;
            text-shadow: 
                -1px -1px 0 #000000,
                1px -1px 0 #000000,
                -1px 1px 0 #000000,
                1px 1px 0 #000000;
        }
        
        .header-text {
            flex: 1;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 10px;
            color: #2d3436;
        }
        
        .subtitle {
            font-size: 16px;
            opacity: 0.8;
            color: #636e72;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .card {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid #e0e0e0;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 15px;
        }
        
        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: #2d3436;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .summary-card {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
            border: 1px solid #e0e0e0;
            transition: all 0.3s ease;
        }
        
        .summary-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        
        .summary-value {
            font-size: 28px;
            font-weight: 700;
            margin: 15px 0;
        }
        
        .positive {
            color: #00a8a8;
        }
        
        .negative {
            color: #e84118;
        }
        
        .neutral {
            color: #0984e3;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid #e0e0e0;
        }
        
        .data-table th, .data-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .data-table th {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            color: #2d3436;
            font-weight: 600;
            font-size: 14px;
        }
        
        .data-table tr:nth-child(even) {
            background-color: rgba(248, 249, 250, 0.7);
        }
        
        .data-table tr:hover {
            background-color: rgba(116, 185, 255, 0.1);
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 25px;
            color: #636e72;
            font-size: 14px;
        }
        
        .developer-signature {
            margin-top: 15px;
            padding: 20px;
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            color: #636e72;
            border-radius: 12px;
            font-weight: 600;
            border: 1px solid #e0e0e0;
        }
        
        .filters {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .filter-item {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            padding: 12px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #e0e0e0;
            color: #636e72;
            font-weight: 500;
        }
        
        .filter-item:hover {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            color: #2d3436;
            transform: translateY(-2px);
        }
        
        .filter-item.active {
            background: linear-gradient(135deg, #00d2d3, #00a8a8);
            color: #ffffff;
            font-weight: 600;
        }
        
        .percentage-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 8px;
        }
        
        .badge-positive {
            background-color: rgba(0, 210, 211, 0.2);
            color: #00a8a8;
            border: 1px solid #00a8a8;
        }
        
        .badge-negative {
            background-color: rgba(255, 107, 107, 0.2);
            color: #e84118;
            border: 1px solid #e84118;
        }
        
        .badge-neutral {
            background-color: rgba(116, 185, 255, 0.2);
            color: #0984e3;
            border: 1px solid #0984e3;
        }
        
        .component-section {
            display: none;
        }
        
        .component-section.active {
            display: block;
        }
        
        .component-header {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            color: #2d3436;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            text-align: center;
            border: 1px solid #e0e0e0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .filters {
                flex-direction: column;
            }
            
            header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .header-content {
                flex-direction: column;
            }
            
            .fw-logo {
                min-width: 120px;
                padding: 12px 20px;
            }
            
            .fw-logo .company-name {
                font-size: 18px;
            }
            
            .fw-logo .group {
                font-size: 12px;
            }
        }

        /* Minimalist Chart Styles */
        .chartjs-render-monitor {
            filter: brightness(0.95) contrast(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="header-text">
                    <h1>Dashboard de Análise ACWP/BCWP - NR-17</h1>
                    <p class="subtitle">Análise de desempenho do projeto - Dados de Set/2025 a Jan/2026</p>
                </div>
                <div class="logo-container">
                    <div class="fw-logo">
                        <div class="company-name">F.W. COMPANY</div>
                        <div class="group">GROUP</div>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="summary-cards">
            <div class="summary-card">
                <div>Progresso Total do Projeto</div>
                <div class="summary-value neutral">54,6%</div>
                <div>Realizado vs Orçamento Total</div>
            </div>
            <div class="summary-card">
                <div>Desempenho vs Previsto</div>
                <div class="summary-value positive">+19,42%</div>
                <div>Variação positiva</div>
            </div>
            <div class="summary-card">
                <div>Previsão de Conclusão</div>
                <div class="summary-value neutral">100%</div>
                <div>Real Previsto Final</div>
            </div>
            <div class="summary-card">
                <div>Componentes Concluídos</div>
                <div class="summary-value positive">33%</div>
                <div>2 de 6 componentes</div>
            </div>
        </div>
        
        <div class="filters">
            <div class="filter-item active" data-component="all">Todos os Componentes</div>
            <div class="filter-item" data-component="nr17">NR-17 (Geral)</div>
            <div class="filter-item" data-component="engenharia">Engenharia</div>
            <div class="filter-item" data-component="fornecimento">Fornecimento</div>
            <div class="filter-item" data-component="construcao">Construção e Montagem</div>
            <div class="filter-item" data-component="comissionamento">Comissionamento</div>
            <div class="filter-item" data-component="operacao">Operação Assistida</div>
        </div>

        <!-- SEÇÃO TODOS OS COMPONENTES -->
        <div id="all-components" class="component-section active">
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Evolução do Percentual Acumulado</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="evolutionChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Comparação Percentual Previsto vs Realizado</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="comparisonChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Percentual Concluído por Componente</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Real Previsto vs Realizado (%)</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="forecastChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Tabela de Percentuais - NR-17</div>
                </div>
                <div style="overflow-x: auto;">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Componente</th>
                                <th>% Orçamento</th>
                                <th>% Previsto</th>
                                <th>% Real</th>
                                <th>Desvio</th>
                                <th>% Real Previsto Final</th>
                                <th>Progresso</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>NR-17 (Geral)</strong></td>
                                <td>100%</td>
                                <td>35,18%</td>
                                <td>54,6%</td>
                                <td>+19,42%</td>
                                <td>100%</td>
                                <td>
                                    <div style="background: #e0e0e0; border-radius: 10px; height: 10px; width: 100%;">
                                        <div style="background: #00a8a8; height: 10px; border-radius: 10px; width: 54.6%;"></div>
                                    </div>
                                    <span class="percentage-badge badge-positive">54,6%</span>
                                </td>
                                <td class="positive">Adiantado</td>
                            </tr>
                            <tr>
                                <td><strong>Engenharia</strong></td>
                                <td>20%</td>
                                <td>54,04%</td>
                                <td>40%</td>
                                <td>-14,04%</td>
                                <td>100%</td>
                                <td>
                                    <div style="background: #e0e0e0; border-radius: 10px; height: 10px; width: 100%;">
                                        <div style="background: #e84118; height: 10px; border-radius: 10px; width: 40%;"></div>
                                    </div>
                                    <span class="percentage-badge badge-negative">40%</span>
                                </td>
                                <td class="negative">Atrasado</td>
                            </tr>
                            <tr>
                                <td><strong>Fornecimento</strong></td>
                                <td>15%</td>
                                <td>100%</td>
                                <td>100%</td>
                                <td>0%</td>
                                <td>100%</td>
                                <td>
                                    <div style="background: #e0e0e0; border-radius: 10px; height: 10px; width: 100%;">
                                        <div style="background: #00a8a8; height: 10px; border-radius: 10px; width: 100%;"></div>
                                    </div>
                                    <span class="percentage-badge badge-positive">100%</span>
                                </td>
                                <td class="positive">Concluído</td>
                            </tr>
                            <tr>
                                <td><strong>Construção e Montagem</strong></td>
                                <td>54%</td>
                                <td>17,36%</td>
                                <td>54,81%</td>
                                <td>+37,45%</td>
                                <td>100%</td>
                                <td>
                                    <div style="background: #e0e0e0; border-radius: 10px; height: 10px; width: 100%;">
                                        <div style="background: #0984e3; height: 10px; border-radius: 10px; width: 54.81%;"></div>
                                    </div>
                                    <span class="percentage-badge badge-neutral">54,81%</span>
                                </td>
                                <td class="positive">Adiantado</td>
                            </tr>
                            <tr>
                                <td><strong>Comissionamento</strong></td>
                                <td>8%</td>
                                <td>0%</td>
                                <td>25%</td>
                                <td>+25%</td>
                                <td>100%</td>
                                <td>
                                    <div style="background: #e0e0e0; border-radius: 10px; height: 10px; width: 100%;">
                                        <div style="background: #00a8a8; height: 10px; border-radius: 10px; width: 25%;"></div>
                                    </div>
                                    <span class="percentage-badge badge-positive">25%</span>
                                </td>
                                <td class="positive">Adiantado</td>
                            </tr>
                            <tr>
                                <td><strong>Operação Assistida e Encerramento</strong></td>
                                <td>3%</td>
                                <td>0%</td>
                                <td>0%</td>
                                <td>0%</td>
                                <td>100%</td>
                                <td>
                                    <div style="background: #e0e0e0; border-radius: 10px; height: 10px; width: 100%;">
                                        <div style="background: #e84118; height: 10px; border-radius: 10px; width: 0%;"></div>
                                    </div>
                                    <span class="percentage-badge badge-negative">0%</span>
                                </td>
                                <td class="negative">Não Iniciado</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- SEÇÃO NR-17 GERAL -->
        <div id="nr17-component" class="component-section">
            <div class="component-header">
                <h2>NR-17 (Geral) - Análise Detalhada</h2>
                <p>Progresso: 54,6% | Status: Adiantado</p>
            </div>
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Evolução NR-17 - Previsto vs Realizado</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="nr17EvolutionChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Desempenho NR-17 - Percentual Concluído</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="nr17PerformanceChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- SEÇÃO ENGENHARIA -->
        <div id="engenharia-component" class="component-section">
            <div class="component-header">
                <h2>Engenharia - Análise Detalhada</h2>
                <p>Progresso: 40% | Status: Atrasado</p>
            </div>
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Evolução Engenharia - Previsto vs Realizado</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="engenhariaEvolutionChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Desempenho Engenharia - Percentual Concluído</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="engenhariaPerformanceChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- SEÇÃO FORNECIMENTO -->
        <div id="fornecimento-component" class="component-section">
            <div class="component-header">
                <h2>Fornecimento - Análise Detalhada</h2>
                <p>Progresso: 100% | Status: Concluído</p>
            </div>
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Evolução Fornecimento - Previsto vs Realizado</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="fornecimentoEvolutionChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Timeline de Fornecimento</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="fornecimentoTimelineChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- SEÇÃO CONSTRUÇÃO E MONTAGEM -->
        <div id="construcao-component" class="component-section">
            <div class="component-header">
                <h2>Construção e Montagem - Análise Detalhada</h2>
                <p>Progresso: 54,81% | Status: Adiantado</p>
            </div>
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Evolução Construção - Previsto vs Realizado</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="construcaoEvolutionChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Progresso por Etapa</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="construcaoProgressChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- SEÇÃO COMISSIONAMENTO -->
        <div id="comissionamento-component" class="component-section">
            <div class="component-header">
                <h2>Comissionamento - Análise Detalhada</h2>
                <p>Progresso: 25% | Status: Adiantado</p>
            </div>
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Evolução Comissionamento - Previsto vs Realizado</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="comissionamentoEvolutionChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Progresso do Comissionamento</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="comissionamentoProgressChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Planejamento Comissionamento</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="comissionamentoPlanChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Previsão de Conclusão</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="comissionamentoForecastChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- SEÇÃO OPERAÇÃO ASSISTIDA -->
        <div id="operacao-component" class="component-section">
            <div class="component-header">
                <h2>Operação Assistida - Análise Detalhada</h2>
                <p>Progresso: 0% | Status: Não Iniciado</p>
            </div>
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Planejamento Operação Assistida</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="operacaoPlanChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Cronograma de Encerramento</div>
                    </div>
                    <div class="chart-container">
                        <canvas id="operacaoScheduleChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Dashboard ACWP/BCWP - NR-17 - Desenvolvido para análise de desempenho de projetos</p>
            <p>Dados referentes ao período de 14 de Setembro de 2025 a 09 de Novembro de 2026</p>
            <div class="developer-signature">
                Desenvolvido por Fabio Mendes Rodrigues - Planejador - FW Company
            </div>
        </footer>
    </div>

    <script>
        // Datas para os gráficos
        const dates = [
            '14/09/2025', '21/09/2025', '28/09/2025', '05/10/2025', 
            '12/10/2025', '19/10/2025', '26/10/2025', '02/11/2025', 
            '09/11/2025', '16/11/2025', '23/11/2025', '30/11/2025', 
            '07/12/2025', '14/12/2025', '21/12/2025', '28/12/2025', 
            '04/01/2026', '11/01/2026'
        ];

        // Dados atualizados com base no CSV fornecido
        const plannedPercent = [15.3, 20.5, 21.8, 23.3, 24.5, 28.1, 31.6, 33.2, 34.5, 35.0, 35.1, 35.1, 35.1, 35.1, 35.18, 35.18, 35.18, 35.18];
        const actualPercent = [14.0, 14.0, 14.0, 14.0, 14.0, 27.0, 43.2, 46.5, 48.2, 50.1, 51.8, 52.9, 53.5, 54.0, 54.6, 54.6, 54.6, 54.6];
        const realPrevistoPercent = [14.0, 14.4, 14.8, 15.2, 15.5, 29.0, 45.6, 58.9, 68.2, 68.5, 68.9, 75.7, 81.0, 87.8, 97.0, 98.0, 100, 100];

        // Dados específicos por componente - COMISSIONAMENTO ATUALIZADO
        const componentData = {
            nr17: {
                planned: [15.3, 20.5, 21.8, 23.3, 24.5, 28.1, 31.6, 33.2, 34.5, 35.0, 35.1, 35.1, 35.1, 35.1, 35.18, 35.18, 35.18, 35.18],
                actual: [14.0, 14.0, 14.0, 14.0, 14.0, 27.0, 43.2, 46.5, 48.2, 50.1, 51.8, 52.9, 53.5, 54.0, 54.6, 54.6, 54.6, 54.6],
                color: '#0984e3'
            },
            engenharia: {
                planned: [40.0, 45.0, 48.0, 50.0, 51.0, 52.0, 53.0, 53.5, 54.0, 54.04, 54.04, 54.04, 54.04, 54.04, 54.04, 54.04, 54.04, 54.04],
                actual: [40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0],
                color: '#00a8a8'
            },
            fornecimento: {
                planned: [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100],
                actual: [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100],
                color: '#a29bfe'
            },
            construcao: {
                planned: [0, 0, 0, 5.0, 8.0, 10.0, 12.0, 14.0, 15.5, 16.5, 17.0, 17.2, 17.3, 17.35, 17.36, 17.36, 17.36, 17.36],
                actual: [0, 0, 0, 10.0, 20.0, 35.0, 45.0, 48.0, 50.5, 52.0, 53.0, 53.8, 54.2, 54.5, 54.81, 54.81, 54.81, 54.81],
                color: '#ffeaa7'
            },
            comissionamento: {
                planned: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 100, 100, 100],
                actual: [0, 0, 0, 0, 0, 0, 10.0, 15.0, 18.0, 20.0, 22.0, 23.5, 24.2, 24.6, 25.0, 25.0, 25.0, 25.0],
                color: '#e84118'
            },
            operacao: {
                planned: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                actual: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                color: '#b2bec3'
            }
        };

        // Configuração minimalista para todos os gráficos
        const minimalistConfig = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        color: '#2d3436',
                        font: {
                            size: 12
                        }
                    }
                },
                tooltip: {
                    backgroundColor: 'rgba(255, 255, 255, 0.95)',
                    titleColor: '#2d3436',
                    bodyColor: '#636e72',
                    borderColor: '#e0e0e0',
                    borderWidth: 1
                }
            },
            scales: {
                x: {
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)'
                    },
                    ticks: {
                        color: '#636e72'
                    }
                },
                y: {
                    grid: {
                        color: 'rgba(0, 0, 0, 0.1)'
                    },
                    ticks: {
                        color: '#636e72'
                    }
                }
            }
        };

        // Gráficos principais (Todos os Componentes)
        function createMainCharts() {
            // Gráfico de Evolução do Percentual Acumulado
            const evolutionCtx = document.getElementById('evolutionChart').getContext('2d');
            new Chart(evolutionCtx, {
                type: 'line',
                data: {
                    labels: dates,
                    datasets: [
                        {
                            label: 'Previsto Acumulado (%)',
                            data: plannedPercent,
                            borderColor: '#0984e3',
                            backgroundColor: 'rgba(9, 132, 227, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Real Acumulado (%)',
                            data: actualPercent,
                            borderColor: '#00a8a8',
                            backgroundColor: 'rgba(0, 168, 168, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    ...minimalistConfig,
                    plugins: {
                        ...minimalistConfig.plugins,
                        title: { 
                            display: true, 
                            text: 'Evolução do Percentual Acumulado',
                            color: '#2d3436'
                        }
                    },
                    scales: {
                        ...minimalistConfig.scales,
                        y: { 
                            ...minimalistConfig.scales.y,
                            beginAtZero: true,
                            max: 100,
                            ticks: { 
                                ...minimalistConfig.scales.y.ticks,
                                callback: value => value + '%' 
                            }
                        }
                    }
                }
            });

            // Gráfico de Comparação Percentual
            const comparisonCtx = document.getElementById('comparisonChart').getContext('2d');
            new Chart(comparisonCtx, {
                type: 'bar',
                data: {
                    labels: dates.slice(0, 7),
                    datasets: [
                        {
                            label: 'Previsto (%)',
                            data: plannedPercent.slice(0, 7),
                            backgroundColor: 'rgba(9, 132, 227, 0.7)'
                        },
                        {
                            label: 'Realizado (%)',
                            data: actualPercent.slice(0, 7),
                            backgroundColor: 'rgba(0, 168, 168, 0.7)'
                        }
                    ]
                },
                options: {
                    ...minimalistConfig,
                    plugins: {
                        ...minimalistConfig.plugins,
                        title: { 
                            display: true, 
                            text: 'Comparação Previsto vs Realizado',
                            color: '#2d3436'
                        }
                    },
                    scales: {
                        ...minimalistConfig.scales,
                        y: { 
                            ...minimalistConfig.scales.y,
                            beginAtZero: true,
                            max: 50,
                            ticks: { 
                                ...minimalistConfig.scales.y.ticks,
                                callback: value => value + '%' 
                            }
                        }
                    }
                }
            });

            // Gráfico de Performance
            const performanceCtx = document.getElementById('performanceChart').getContext('2d');
            new Chart(performanceCtx, {
                type: 'doughnut',
                data: {
                    labels: ['NR-17 (54,6%)', 'Engenharia (40%)', 'Fornecimento (100%)', 'Construção (54,81%)', 'Comissionamento (25%)', 'Operação (0%)'],
                    datasets: [{
                        data: [54.6, 40, 100, 54.81, 25, 0],
                        backgroundColor: ['#0984e3', '#00a8a8', '#a29bfe', '#ffeaa7', '#e84118', '#b2bec3'],
                        borderWidth: 0
                    }]
                },
                options: {
                    ...minimalistConfig,
                    plugins: {
                        ...minimalistConfig.plugins,
                        title: { 
                            display: true, 
                            text: 'Percentual Concluído por Componente',
                            color: '#2d3436'
                        }
                    },
                    cutout: '60%'
                }
            });

            // Gráfico de Real Previsto vs Realizado
            const forecastCtx = document.getElementById('forecastChart').getContext('2d');
            new Chart(forecastCtx, {
                type: 'line',
                data: {
                    labels: dates,
                    datasets: [
                        {
                            label: 'Real Acumulado (%)',
                            data: actualPercent,
                            borderColor: '#00a8a8',
                            backgroundColor: 'rgba(0, 168, 168, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Real Previsto (%)',
                            data: realPrevistoPercent,
                            borderColor: '#e84118',
                            backgroundColor: 'rgba(232, 65, 24, 0.1)',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            fill: true,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    ...minimalistConfig,
                    plugins: {
                        ...minimalistConfig.plugins,
                        title: { 
                            display: true, 
                            text: 'Comparação entre Realizado e Real Previsto (%)',
                            color: '#2d3436'
                        }
                    },
                    scales: {
                        ...minimalistConfig.scales,
                        y: {
                            ...minimalistConfig.scales.y,
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                ...minimalistConfig.scales.y.ticks,
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    }
                }
            });
        }

        // Função para criar gráficos de componente
        function createComponentCharts(componentId, componentName, data) {
            // Gráfico de Evolução
            const evolutionCtx = document.getElementById(componentId + 'EvolutionChart')?.getContext('2d');
            if (evolutionCtx) {
                new Chart(evolutionCtx, {
                    type: 'line',
                    data: {
                        labels: dates,
                        datasets: [
                            {
                                label: 'Previsto (%)',
                                data: data.planned,
                                borderColor: data.color,
                                borderWidth: 3,
                                fill: false,
                                tension: 0.4
                            },
                            {
                                label: 'Realizado (%)',
                                data: data.actual,
                                borderColor: '#00a8a8',
                                borderWidth: 3,
                                fill: false,
                                tension: 0.4
                            }
                        ]
                    },
                    options: {
                        ...minimalistConfig,
                        plugins: {
                            ...minimalistConfig.plugins,
                            title: { 
                                display: true, 
                                text: 'Evolução - Previsto vs Realizado',
                                color: '#2d3436'
                            }
                        },
                        scales: {
                            ...minimalistConfig.scales,
                            y: { 
                                ...minimalistConfig.scales.y,
                                beginAtZero: true,
                                max: 100,
                                ticks: { 
                                    ...minimalistConfig.scales.y.ticks,
                                    callback: value => value + '%' 
                                }
                            }
                        }
                    }
                });
            }

            // Gráfico de Performance (para componentes com dados)
            const performanceCtx = document.getElementById(componentId + 'PerformanceChart')?.getContext('2d');
            if (performanceCtx) {
                const currentProgress = data.actual[data.actual.length - 1] || 0;
                new Chart(performanceCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Concluído', 'Restante'],
                        datasets: [{
                            data: [currentProgress, 100 - currentProgress],
                            backgroundColor: [data.color, '#e0e0e0'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        ...minimalistConfig,
                        plugins: {
                            ...minimalistConfig.plugins,
                            title: { 
                                display: true, 
                                text: 'Percentual Concluído',
                                color: '#2d3436'
                            }
                        },
                        cutout: '70%'
                    }
                });
            }

            // Gráficos específicos para cada componente
            switch(componentId) {
                case 'fornecimento':
                    const timelineCtx = document.getElementById('fornecimentoTimelineChart').getContext('2d');
                    new Chart(timelineCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Set/25', 'Out/25', 'Nov/25', 'Dez/25'],
                            datasets: [{
                                label: 'Fornecimento Concluído (%)',
                                data: [100, 100, 100, 100],
                                backgroundColor: data.color
                            }]
                        },
                        options: {
                            ...minimalistConfig,
                            plugins: {
                                ...minimalistConfig.plugins,
                                title: { 
                                    display: true, 
                                    text: 'Timeline de Conclusão',
                                    color: '#2d3436'
                                }
                            },
                            scales: {
                                ...minimalistConfig.scales,
                                y: {
                                    ...minimalistConfig.scales.y,
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: { 
                                        ...minimalistConfig.scales.y.ticks,
                                        callback: value => value + '%' 
                                    }
                                }
                            }
                        }
                    });
                    break;

                case 'construcao':
                    const progressCtx = document.getElementById('construcaoProgressChart').getContext('2d');
                    new Chart(progressCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Fundação', 'Estrutura', 'Instalações', 'Acabamento'],
                            datasets: [{
                                label: 'Progresso Atual (%)',
                                data: [85, 65, 45, 25],
                                backgroundColor: data.color
                            }]
                        },
                        options: {
                            ...minimalistConfig,
                            plugins: {
                                ...minimalistConfig.plugins,
                                title: { 
                                    display: true, 
                                    text: 'Progresso por Etapa',
                                    color: '#2d3436'
                                }
                            },
                            scales: {
                                ...minimalistConfig.scales,
                                y: {
                                    ...minimalistConfig.scales.y,
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: { 
                                        ...minimalistConfig.scales.y.ticks,
                                        callback: value => value + '%' 
                                    }
                                }
                            }
                        }
                    });
                    break;

                case 'comissionamento':
                    // Gráfico de Progresso do Comissionamento
                    const comissionamentoProgressCtx = document.getElementById('comissionamentoProgressChart').getContext('2d');
                    new Chart(comissionamentoProgressCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Out/25', 'Nov/25', 'Dez/25', 'Jan/26'],
                            datasets: [{
                                label: 'Progresso Comissionamento (%)',
                                data: [10, 15, 20, 25],
                                backgroundColor: data.color
                            }]
                        },
                        options: {
                            ...minimalistConfig,
                            plugins: {
                                ...minimalistConfig.plugins,
                                title: { 
                                    display: true, 
                                    text: 'Progresso do Comissionamento',
                                    color: '#2d3436'
                                }
                            },
                            scales: {
                                ...minimalistConfig.scales,
                                y: {
                                    ...minimalistConfig.scales.y,
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: { 
                                        ...minimalistConfig.scales.y.ticks,
                                        callback: value => value + '%' 
                                    }
                                }
                            }
                        }
                    });

                    // Gráfico de Planejamento Comissionamento
                    const comissionamentoPlanCtx = document.getElementById('comissionamentoPlanChart').getContext('2d');
                    new Chart(comissionamentoPlanCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Ventilador - EC 01', 'Ventilador - EC 02', 'Exaustor 1 - EA 01', 'Exaustor 1 - EA 02'],
                            datasets: [{
                                label: 'Atividades Planejadas',
                                data: [25, 25, 25, 25],
                                backgroundColor: ['#e84118', '#00a8a8', '#00a8a8af', '#e84118af']
                            }]
                        },
                        options: {
                            ...minimalistConfig,
                            plugins: {
                                ...minimalistConfig.plugins,
                                legend: {
                                    position: 'left',
                                    labels: {
                                        color: '#2d3436',
                                        font: {
                                            size: 10
                                        }
                                    }
                                },
                                title: {
                                    display: true,
                                    text: 'Distribuição das Atividades',
                                    color: '#2d3436'
                                }
                            }
                        }
                    });

                    // Gráfico de Previsão de Conclusão
                    const comissionamentoForecastCtx = document.getElementById('comissionamentoForecastChart').getContext('2d');
                    new Chart(comissionamentoForecastCtx, {
                        type: 'line',
                        data: {
                            labels: ['Dez/25', 'Jan/26'],
                            datasets: [
                                {
                                    label: 'Previsão de Conclusão (%)',
                                    data: [20, 100],
                                    borderColor: data.color,
                                    borderWidth: 3,
                                    fill: false,
                                    tension: 0.4
                                },
                                {
                                    label: 'Meta Original (%)',
                                    data: [0, 100],
                                    borderColor: '#b2bec3',
                                    borderWidth: 2,
                                    borderDash: [5, 5],
                                    fill: false,
                                    tension: 0.4
                                }
                            ]
                        },
                        options: {
                            ...minimalistConfig,
                            plugins: {
                                ...minimalistConfig.plugins,
                                title: { 
                                    display: true, 
                                    text: 'Previsão de Conclusão - Final em 11/01/2026',
                                    color: '#2d3436'
                                }
                            },
                            scales: {
                                ...minimalistConfig.scales,
                                y: {
                                    ...minimalistConfig.scales.y,
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: { 
                                        ...minimalistConfig.scales.y.ticks,
                                        callback: value => value + '%' 
                                    }
                                }
                            }
                        }
                    });
                    break;

                case 'operacao':
                    // Gráfico de Cronograma de Encerramento
                    const scheduleOpCtx = document.getElementById('operacaoScheduleChart').getContext('2d');
                    new Chart(scheduleOpCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Dez/25', 'Jan/26'],
                            datasets: [{
                                label: 'Previsão de Conclusão (%)',
                                data: [0, 100],
                                backgroundColor: data.color
                            }]
                        },
                        options: {
                            ...minimalistConfig,
                            plugins: {
                                ...minimalistConfig.plugins,
                                title: { 
                                    display: true, 
                                    text: 'Cronograma de Encerramento - Início Dez/25 - Término 11/01/26',
                                    color: '#2d3436'
                                }
                            },
                            scales: {
                                ...minimalistConfig.scales,
                                y: {
                                    ...minimalistConfig.scales.y,
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: { 
                                        ...minimalistConfig.scales.y.ticks,
                                        callback: value => value + '%' 
                                    }
                                }
                            }
                        }
                    });
                    break;
            }
        }

        // Sistema de filtros
        document.querySelectorAll('.filter-item').forEach(item => {
            item.addEventListener('click', function() {
                const component = this.dataset.component;
                
                // Atualizar botões ativos
                document.querySelectorAll('.filter-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                // Esconder todas as seções
                document.querySelectorAll('.component-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Mostrar seção selecionada
                if (component === 'all') {
                    document.getElementById('all-components').classList.add('active');
                } else {
                    document.getElementById(component + '-component').classList.add('active');
                }
            });
        });

        // Inicializar todos os gráficos
        function initializeAllCharts() {
            createMainCharts();
            
            // Criar gráficos para cada componente
            createComponentCharts('nr17', 'NR-17', componentData.nr17);
            createComponentCharts('engenharia', 'Engenharia', componentData.engenharia);
            createComponentCharts('fornecimento', 'Fornecimento', componentData.fornecimento);
            createComponentCharts('construcao', 'Construção', componentData.construcao);
            createComponentCharts('comissionamento', 'Comissionamento', componentData.comissionamento);
            createComponentCharts('operacao', 'Operação', componentData.operacao);
        }

        // Inicializar quando a página carregar
        document.addEventListener('DOMContentLoaded', initializeAllCharts);
        
    </script>
</body>
</html>
